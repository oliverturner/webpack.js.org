<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>webpack</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
      <link href="/style.css" rel="stylesheet">
    
  </head>
  <body>
    <div class="site"><div class="navigation"><div class="container "><div class="navigation__inner"><button class="navigation__mobilebtn">Open navigation</button><a class="navigation__logo" href="/"><span class="logo logo--light"><span class="cube cube--light logo__cube" style="width:20px;margin-left:10px;padding-bottom:10px;"><figure class="cube__outer" style="width:20px;height:20px;transform:translateX(-50%)
              scale3d(1,1,1)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="cube__face" style="transform:rotateX(0deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateX(-90deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateX(90deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateY(-90deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateY(90deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateY(180deg) translateZ(10px);"></section></figure><figure class="cube__inner" style="width:20px;height:20px;transform:translateX(-50%)
              scale3d(0.5,0.5,0.5)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="cube__face" style="transform:rotateX(0deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateX(-90deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateX(90deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateY(-90deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateY(90deg) translateZ(10px);"></section><section class="cube__face" style="transform:rotateY(180deg) translateZ(10px);"></section></figure></span><span class="logo__text">webpack</span></span></a><nav class="navigation__links"><a class="navigation__link" href="/concepts">Concepts</a><a class="navigation__link" href="/configuration">Configuration</a><a class="navigation__link" href="/how-to">How to</a><a class="navigation__link" href="/api">API</a><a class="navigation__link" href="///github.com/webpack/webpack.js.org">Github</a></nav></div></div></div><aside class="sidecar"><a class="sidecar__link sidecar__link--github" href="//github.com/webpack/webpack"><span class="sidecar__label">Fork the Repo</span><i class="sidecar__icon icon-github"></i></a><a class="sidecar__link sidecar__link--gitter" href="#"><span class="sidecar__label">Find Help</span><i class="sidecar__icon icon-gitter"></i></a><a class="sidecar__link sidecar__link--medium" href="//medium.com/webpack"><span class="sidecar__label">Visit Our Blog</span><i class="sidecar__icon icon-medium"></i></a><a class="sidecar__link sidecar__link--so" href="//stackoverflow.com/questions/tagged/webpack"><span class="sidecar__label">Stack Overflow</span><i class="sidecar__icon icon-stack-overflow"></i></a></aside><div class="container page"><nav class="sidebar"><div class="sidebar__inner"><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to">Introduction</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/author-libraries">How to Author Libraries?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/cache">How to Cache?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/develop-using-vagrant">How to Develop Using Vagrant</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/develop">How to Develop?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/generate-production-build">How to Generate a Production Build?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/handle-compatibility">How to Handle Compatibility?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/handle-dependencies">How to Handle Dependencies?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/hot-module-reload">How to Configure Hot Module Replacement?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/improve-build-performance">How to Improve Build Performance?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/install-webpack">How to Install webpack?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/set-up-hmr-with-react">How to Set Up Hot Module Replacement with React?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/shim">How to Shim?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/split-code">How to Split Code?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/upgrade-from-webpack-1">How to Upgrade from Webpack 1?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/use-with-docker">How to Use with Docker?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div><div class="sidebar-item"><a class="sidebar-item__title" href="/how-to/use-with-third-party-tools">How to Use with Third Party Tools?</a><i class="sidebar-item__toggle icon-chevron-down"></i><ul class="sidebar-item__sections"></ul></div></div></nav><section class="page__content"><h1>How to Develop Using Vagrant</h1><a class="page__edit" href="https://github.com/webpack/webpack.js.org/edit/master/content/how-to/develop-using-vagrant.md">Edit this Page  <i class="icon-edit"></i></a><div><p>If you have a more advanced project and use <a href="https://www.vagrantup.com/">Vagrant</a> to run your development environment in a Virtual Machine, you&#39;ll often want to also run webpack in the VM.</p>
<h2 class="header"><a class="anchor" href="#configuring-the-project" id="configuring-the-project"></a><span class="text">Configuring the Project</span><a class="icon-link" href="#configuring-the-project"></a></h2>
<p>To start, make sure that the <code>Vagrantfile</code> has a static IP;</p>
<pre><code class="lang-ruby"><span class="token constant" >Vagrant</span><span class="token punctuation" >.</span><span class="token function" >configure</span><span class="token punctuation" >(</span><span class="token string" >"2"</span><span class="token punctuation" >)</span> <span class="token keyword" >do</span> <span class="token operator" >|</span>config<span class="token operator" >|</span>
  config<span class="token punctuation" >.</span>vm<span class="token punctuation" >.</span>network <span class="token symbol" >:private_network</span><span class="token punctuation" >,</span> ip<span class="token punctuation" >:</span> <span class="token string" >"10.10.10.61"</span>
<span class="token keyword" >end</span>
</code></pre>
<p>Next, install webpack and webpack-dev-server in your project;</p>
<pre><code class="lang-bash">npm <span class="token function" >install</span> webpack webpack-dev-server --save-dev
</code></pre>
<p>Make sure to have a <code>webpack.config.js</code> file. If you haven&#39;t already, use this as a minimal example to get started:</p>
<pre><code class="lang-js">module<span class="token punctuation" >.</span>exports <span class="token operator" >=</span> <span class="token punctuation" >{</span>
  context<span class="token punctuation" >:</span> __dirname<span class="token punctuation" >,</span>
  entry<span class="token punctuation" >:</span> <span class="token string" >"./app.js"</span>
<span class="token punctuation" >}</span><span class="token punctuation" >;</span>
</code></pre>
<p>And create a <code>index.html</code> file. The script tag should point to your bundle. If <code>output.filename</code> is not specified in the config, this will be <code>bundle.js</code>.</p>
<pre><code class="lang-html"><span class="token doctype" >&lt;!DOCTYPE html></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>html</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>head</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>script</span> <span class="token attr-name" >src</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>/bundle.js<span class="token punctuation" >"</span></span> <span class="token attr-name" >charset</span><span class="token attr-value" ><span class="token punctuation" >=</span><span class="token punctuation" >"</span>utf-8<span class="token punctuation" >"</span></span><span class="token punctuation" >></span></span><span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>script</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>head</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>body</span><span class="token punctuation" >></span></span>
    <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;</span>h2</span><span class="token punctuation" >></span></span>Heey!<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>h2</span><span class="token punctuation" >></span></span>
  <span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>body</span><span class="token punctuation" >></span></span>
<span class="token tag" ><span class="token tag" ><span class="token punctuation" >&lt;/</span>html</span><span class="token punctuation" >></span></span>
</code></pre>
<p>Note that you also need to create an <code>app.js</code> file.</p>
<h2 class="header"><a class="anchor" href="#running-the-server" id="running-the-server"></a><span class="text">Running the Server</span><a class="icon-link" href="#running-the-server"></a></h2>
<p>Now, let&#39;s run the server:</p>
<pre><code class="lang-bash">webpack-dev-server --host 0.0.0.0 --public 10.10.10.61:8080 --watch-poll
</code></pre>
<p>By default the server will only be accessible from localhost. We&#39;ll be accessing it from our host PC, so we need to change <code>--host</code> to allow this.</p>
<p>webpack-dev-server will include a script in your bundle that connects to a WebSocket to reload when a change in any of your files occurs.
The <code>--public</code> flag makes sure the script knows where to look for the WebSocket. The server will use port <code>8080</code> by default, so we should also specify that here.</p>
<p><code>--watch-poll</code> makes sure that webpack can detect changes in your files. By default webpack listens to events triggered by the filesystem, but VirtualBox has many problems with this.</p>
<p>The server should be accessible on <code>http://10.10.10.61:8080</code> now. If you make a change in <code>app.js</code>, it should live reload.</p>
<h2 class="header"><a class="anchor" href="#advanced-usage-with-nginx" id="advanced-usage-with-nginx"></a><span class="text">Advanced Usage with nginx</span><a class="icon-link" href="#advanced-usage-with-nginx"></a></h2>
<p>To mimick a more production-like environment, it is also possible to proxy the webpack-dev-server with nginx.</p>
<p>In your nginx config file, add the following:</p>
<pre><code class="lang-nginx"><span class="token keyword" >server</span> <span class="token punctuation" >{</span>
  <span class="token keyword" >location</span> <span class="token operator" >/</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >proxy_pass</span> <span class="token keyword" >http</span><span class="token punctuation" >:</span><span class="token operator" >/</span><span class="token operator" >/</span><span class="token number" >127.0</span><span class="token punctuation" >.</span><span class="token number" >0.1</span><span class="token punctuation" >:</span><span class="token number" >8080</span><span class="token punctuation" >;</span>
    <span class="token keyword" >proxy_http_version</span> <span class="token number" >1.1</span><span class="token punctuation" >;</span>
    <span class="token keyword" >proxy_set_header</span> Upgrade <span class="token variable" >$http_upgrade</span><span class="token punctuation" >;</span>
    <span class="token keyword" >proxy_set_header</span> Connection <span class="token string" >"upgrade"</span><span class="token punctuation" >;</span>
    <span class="token keyword" >error_page</span> <span class="token number" >502</span> @start<span class="token operator" >-</span>webpack<span class="token operator" >-</span>dev<span class="token operator" >-</span><span class="token keyword" >server</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>

  <span class="token keyword" >location</span> @start<span class="token operator" >-</span>webpack<span class="token operator" >-</span>dev<span class="token operator" >-</span><span class="token keyword" >server</span> <span class="token punctuation" >{</span>
    <span class="token keyword" >default_type</span> text<span class="token operator" >/</span>plain<span class="token punctuation" >;</span>
    <span class="token keyword" >return</span> <span class="token number" >502</span> <span class="token string" >"Please start the webpack-dev-server first."</span><span class="token punctuation" >;</span>
  <span class="token punctuation" >}</span>
<span class="token punctuation" >}</span>
</code></pre>
<p>The <code>proxy_set_header</code> lines are important, because they allow the WebSockets to work correctly.</p>
<p>The command to start webpack-dev-server can then be changed to this:</p>
<pre><code class="lang-bash">webpack-dev-server --public 10.10.10.61 --watch-poll
</code></pre>
<p>This makes the server only accessible on <code>127.0.0.1</code>, which is fine, because nginx takes care of making it available on your host PC.</p>
<h2 class="header"><a class="anchor" href="#conclusion" id="conclusion"></a><span class="text">Conclusion</span><a class="icon-link" href="#conclusion"></a></h2>
<p>We made the Vagrant box accessible from a static IP, and then made webpack-dev-server publicly accessible so it is reachable from a browser. We then tackled a common problem that VirtualBox doesn&#39;t send out filesystem events, causing the server to not reload on file changes.</p>
</div><hr/><div class="contributors"><h4>Contributors</h4><div class="contributors__list"><a class="contributor" href="https://github.com/SpaceK33z"><img src="https://github.com/SpaceK33z.png?size=80"/><span>SpaceK33z</span></a></div></div></section></div><div class="container footer"><div class="footer__inner"><section class="footer__left"><a class="footer__link" href="/get-started">Get Started</a><a class="footer__link" href="/analyze">Analyze</a><a class="footer__link" href="/contribute">Contribute</a></section><section class="footer__middle"><a href="/"><span class="cube cube--dark " style="width:18px;margin-left:9px;padding-bottom:9px;"><figure class="cube__outer" style="width:18px;height:18px;transform:translateX(-50%)
              scale3d(1,1,1)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="cube__face" style="transform:rotateX(0deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateX(-90deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateX(90deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateY(-90deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateY(90deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateY(180deg) translateZ(9px);"></section></figure><figure class="cube__inner" style="width:18px;height:18px;transform:translateX(-50%)
              scale3d(0.5,0.5,0.5)
              rotateX(0deg)
              rotateY(0deg)
              rotateZ(0deg);"><section class="cube__face" style="transform:rotateX(0deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateX(-90deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateX(90deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateY(-90deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateY(90deg) translateZ(9px);"></section><section class="cube__face" style="transform:rotateY(180deg) translateZ(9px);"></section></figure></span></a></section><section class="footer__right"><a class="footer__link" href="//gitter.im/webpack/webpack">Support</a><a class="footer__link" href="/changelog">Changelog</a><a class="footer__link" href="/license">License</a></section></div></div><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-46921629-2', 'auto');ga('send', 'pageview');</script></div>
  </body>
</html>
